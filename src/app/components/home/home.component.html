<main class="flex flex-row py-4 overflow-hidden max-h-screen">
    <div class="flex flex-col overflow-hidden">
        <div class=""><app-card-profil lastname="Sarah"/></div>
        <div class=""><app-menu></app-menu></div>
    </div>
    <section class="flex flex-col overflow-hidden">

        <section class="flex flex-col overflow-hidden">
            <div class=""><app-header/></div>
            <div class=""><app-last-reading [lastReadingBooks]="lastReadingBooks"/></div>
        </section>  

        <section #sectionList class="flex flex-row overflow-hidden">
            
            <div class="overflow-y-scroll flex flex-col" id="list">
                <div class="h-full min-h-full">
                    @if (newReleaseBooks$ | async; as newReleaseBooks){
                        @if (numberAllBook$ | async; as numberAllBook ){
                            <app-list 
                                [title]="titleOfist.NewRelease"  
                                (changePageIndex)="changePageIndex($event)"
                                [books]="newReleaseBooks"
                                [maxPageIndex]="maxPageIndex"
                                [pageIndex]="pageIndexNewRelease"
                            />
                        }
                    }
                </div>
                
                <div class="h-full min-h-full">
                    @if (lastBorrowBooks$ | async; as lastBorrowBooks) {
                        <app-list 
                            [title]="titleOfist.LastBorrow"  
                            (changePageIndex)="changePageIndex($event)"
                            [books]="lastBorrowBooks" 
                            [pageIndex]="pageIndexLastBorrow"
                        />
                    }
                </div>

                <div class="h-full min-h-full" id="saved">
                    @if (allBook$ | async; as allBook) {
                        <app-list 
                            [title]="titleOfist.AllBook" 
                            (changePageIndex)="changePageIndex($event)"
                            [books]="allBook" 
                            [pageIndex]="pageIndexAllBook"
                        />
                    }
                </div>
            </div>

            <div class="relative" id="author">
                @if (topBooks$ | async; as topBook){
                    <app-top [topBooks]="topBook" />
                }
            </div>
        </section>

    </section>
</main>
